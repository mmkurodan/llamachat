<?xml version="1.0" encoding="utf-8"?>
<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent">

    <ImageView
        android:id="@+id/ivAvatarBackground"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:contentDescription="@null"
        android:importantForAccessibility="no"
        android:scaleType="centerCrop"
        android:src="@drawable/c0" />

    <ImageView
        android:id="@+id/ivAvatar"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:contentDescription="@string/avatar_description"
        android:scaleType="centerCrop"
        android:src="@drawable/c1" />

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:orientation="vertical"
        android:weightSum="2">

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="0dp"
            android:layout_weight="1"
            android:orientation="vertical">

            <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="horizontal"
                android:background="#4a90e2"
                android:padding="10dp"
                android:gravity="center_vertical">

                <TextView
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_weight="1"
                    android:text="ðŸ’¬ llama chat"
                    android:textColor="#FFFFFF"
                    android:textSize="18sp"
                    android:textStyle="bold"/>

                <Button
                    android:id="@+id/btnSettings"
                    android:layout_width="wrap_content"
                    android:layout_height="36dp"
                    android:text="âš™ï¸ è¨­å®š"
                    android:textColor="#FFFFFF"
                    android:background="@android:color/transparent"
                    android:minWidth="0dp"
                    android:minHeight="0dp"/>
            </LinearLayout>

            <!-- è¨­å®šãƒ‘ãƒãƒ«ï¼ˆæŠ˜ã‚ŠãŸãŸã¿ï¼‰ -->
            <ScrollView
                android:id="@+id/settingsPanel"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:visibility="gone"
                android:background="#F5F5F5">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:padding="12dp">

                    <TextView android:layout_width="wrap_content" android:layout_height="wrap_content"
                        android:text="âš™ï¸ è¨­å®š" android:textSize="16sp" android:textStyle="bold"
                        android:layout_marginBottom="8dp"/>

                    <TextView android:layout_width="wrap_content" android:layout_height="wrap_content"
                        android:text="Ollama URL"/>
                    <EditText android:id="@+id/etOllamaUrl"
                        android:layout_width="match_parent" android:layout_height="wrap_content"
                        android:inputType="textUri" android:singleLine="true"/>

                    <TextView android:layout_width="wrap_content" android:layout_height="wrap_content"
                        android:text="ãƒ¢ãƒ‡ãƒ«" android:layout_marginTop="4dp"/>
                    <Spinner android:id="@+id/spinnerModel"
                        android:layout_width="match_parent" android:layout_height="wrap_content"/>

                    <TextView android:layout_width="wrap_content" android:layout_height="wrap_content"
                        android:text="é€ä¿¡ã™ã‚‹å±¥æ­´æ•°" android:layout_marginTop="4dp"/>
                    <EditText android:id="@+id/etHistoryLimit"
                        android:layout_width="match_parent" android:layout_height="wrap_content"
                        android:inputType="number" android:singleLine="true"/>

                    <Switch android:id="@+id/switchStreaming"
                        android:layout_width="match_parent" android:layout_height="wrap_content"
                        android:text="ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°" android:checked="true" android:layout_marginTop="8dp"/>

                    <Switch android:id="@+id/switchTts"
                        android:layout_width="match_parent" android:layout_height="wrap_content"
                        android:text="éŸ³å£°èª­ã¿ä¸Šã’" android:layout_marginTop="4dp"/>

                    <Switch android:id="@+id/switchVoiceInput"
                        android:layout_width="match_parent" android:layout_height="wrap_content"
                        android:text="éŸ³å£°èªè­˜ï¼ˆç©ºæ¬„é€ä¿¡æ™‚ï¼‰" android:layout_marginTop="4dp"/>

                    <Switch android:id="@+id/switchAutoVoiceInput"
                        android:layout_width="match_parent" android:layout_height="wrap_content"
                        android:text="è‡ªå‹•éŸ³å£°èªè­˜ï¼ˆå¿œç­”å¾Œï¼‰" android:layout_marginTop="4dp"/>

                    <Switch android:id="@+id/switchAutoChatter"
                        android:layout_width="match_parent" android:layout_height="wrap_content"
                        android:text="è‡ªå‹•ãŠã—ã‚ƒã¹ã‚Šãƒ¢ãƒ¼ãƒ‰" android:layout_marginTop="4dp"/>

                    <Switch android:id="@+id/switchWebSearch"
                        android:layout_width="match_parent" android:layout_height="wrap_content"
                        android:text="Webæ¤œç´¢" android:layout_marginTop="4dp"/>

                    <TextView android:layout_width="wrap_content" android:layout_height="wrap_content"
                        android:text="Webæ¤œç´¢API URL" android:layout_marginTop="4dp"/>
                    <EditText android:id="@+id/etWebSearchUrl"
                        android:layout_width="match_parent" android:layout_height="wrap_content"
                        android:inputType="textUri" android:singleLine="true"/>

                    <TextView android:layout_width="wrap_content" android:layout_height="wrap_content"
                        android:text="Webæ¤œç´¢APIã‚­ãƒ¼" android:layout_marginTop="4dp"/>
                    <EditText android:id="@+id/etWebSearchApiKey"
                        android:layout_width="match_parent" android:layout_height="wrap_content"
                        android:inputType="textPassword" android:singleLine="true"/>

                    <Switch android:id="@+id/switchDebug"
                        android:layout_width="match_parent" android:layout_height="wrap_content"
                        android:text="ãƒ‡ãƒãƒƒã‚¯ãƒ¢ãƒ¼ãƒ‰" android:layout_marginTop="8dp"/>

                    <TextView android:layout_width="wrap_content" android:layout_height="wrap_content"
                        android:text="ãŠã—ã‚ƒã¹ã‚Šé–“éš”ï¼ˆç§’ï¼‰" android:layout_marginTop="4dp"/>
                    <EditText android:id="@+id/etAutoChatterSeconds"
                        android:layout_width="match_parent" android:layout_height="wrap_content"
                        android:inputType="number" android:singleLine="true"/>

                    <TextView android:layout_width="wrap_content" android:layout_height="wrap_content"
                        android:text="èª­ã¿ä¸Šã’è¨€èªž" android:layout_marginTop="4dp"/>
                    <EditText android:id="@+id/etSpeechLang"
                        android:layout_width="match_parent" android:layout_height="wrap_content"
                        android:inputType="text" android:singleLine="true"/>

                    <TextView android:layout_width="wrap_content" android:layout_height="wrap_content"
                        android:text="é€Ÿåº¦" android:layout_marginTop="4dp"/>
                    <EditText android:id="@+id/etSpeechRate"
                        android:layout_width="match_parent" android:layout_height="wrap_content"
                        android:inputType="numberDecimal" android:singleLine="true"/>

                    <TextView android:layout_width="wrap_content" android:layout_height="wrap_content"
                        android:text="ãƒ”ãƒƒãƒ" android:layout_marginTop="4dp"/>
                    <EditText android:id="@+id/etSpeechPitch"
                        android:layout_width="match_parent" android:layout_height="wrap_content"
                        android:inputType="numberDecimal" android:singleLine="true"/>

                    <TextView android:layout_width="wrap_content" android:layout_height="wrap_content"
                        android:text="ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ" android:layout_marginTop="4dp"/>
                    <EditText android:id="@+id/etSystemPrompt"
                        android:layout_width="match_parent" android:layout_height="wrap_content"
                        android:inputType="textMultiLine" android:minLines="2"/>

                    <TextView android:layout_width="wrap_content" android:layout_height="wrap_content"
                        android:text="ã‚¢ãƒã‚¿ãƒ¼ç”»åƒ" android:textStyle="bold" android:layout_marginTop="8dp"/>

                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="horizontal"
                        android:gravity="center_vertical"
                        android:layout_marginTop="4dp">
                        <TextView
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:text="c0 èƒŒæ™¯"/>
                        <Button
                            android:id="@+id/btnPickC0"
                            android:layout_width="wrap_content"
                            android:layout_height="36dp"
                            android:text="é¸æŠž"
                            android:minWidth="0dp"
                            android:minHeight="0dp"/>
                    </LinearLayout>

                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="horizontal"
                        android:gravity="center_vertical"
                        android:layout_marginTop="4dp">
                        <TextView
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:text="c1 ãƒ™ãƒ¼ã‚¹"/>
                        <Button
                            android:id="@+id/btnPickC1"
                            android:layout_width="wrap_content"
                            android:layout_height="36dp"
                            android:text="é¸æŠž"
                            android:minWidth="0dp"
                            android:minHeight="0dp"/>
                    </LinearLayout>

                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="horizontal"
                        android:gravity="center_vertical"
                        android:layout_marginTop="4dp">
                        <TextView
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:text="c2 ã¾ã°ãŸã"/>
                        <Button
                            android:id="@+id/btnPickC2"
                            android:layout_width="wrap_content"
                            android:layout_height="36dp"
                            android:text="é¸æŠž"
                            android:minWidth="0dp"
                            android:minHeight="0dp"/>
                    </LinearLayout>

                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="horizontal"
                        android:gravity="center_vertical"
                        android:layout_marginTop="4dp">
                        <TextView
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:text="c3 ä¼šè©±"/>
                        <Button
                            android:id="@+id/btnPickC3"
                            android:layout_width="wrap_content"
                            android:layout_height="36dp"
                            android:text="é¸æŠž"
                            android:minWidth="0dp"
                            android:minHeight="0dp"/>
                    </LinearLayout>

                </LinearLayout>
            </ScrollView>
        </LinearLayout>

        <LinearLayout
            android:id="@+id/chatPanel"
            android:layout_width="match_parent"
            android:layout_height="0dp"
            android:layout_weight="1"
            android:orientation="vertical"
            android:layout_margin="12dp"
            android:background="@drawable/chat_panel_bg"
            android:padding="12dp">

            <!-- ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ -->
            <ScrollView
                android:id="@+id/scrollView"
                android:layout_width="match_parent"
                android:layout_height="0dp"
                android:layout_weight="1"
                android:fillViewport="true">

                <TextView
                    android:id="@+id/tvConversation"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text=""
                    android:textSize="16sp"/>
            </ScrollView>

            <!-- å…¥åŠ›ã‚¨ãƒªã‚¢ -->
            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="horizontal"
                android:paddingTop="8dp">

                <EditText
                    android:id="@+id/etInput"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_weight="1"
                    android:hint="ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å…¥åŠ›"/>

                <Button
                    android:id="@+id/btnSend"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="é€ä¿¡"
                    android:layout_marginStart="4dp"/>
            </LinearLayout>
        </LinearLayout>
    </LinearLayout>

</FrameLayout>
